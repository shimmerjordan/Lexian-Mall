<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="lexian.mapper.CustomerMapper" >
  <resultMap id="BaseResultMap" type="Customer" >
    <id column="ID" property="id" jdbcType="INTEGER" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="age" property="age" jdbcType="INTEGER" />
    <result column="sex" property="sex" jdbcType="INTEGER" />
    <result column="pwd" property="pwd" jdbcType="VARCHAR" />
    <result column="nick_name" property="nickName" jdbcType="VARCHAR" />
    <result column="user_image" property="userImage" jdbcType="VARCHAR" />
    <result column="birthday" property="birthday" jdbcType="DATE" />
    <result column="login_name" property="loginName" jdbcType="VARCHAR" />
    <result column="register_time" property="registerTime" jdbcType="INTEGER" />
    <result column="is_delete" property="isDelete" jdbcType="INTEGER" />
  </resultMap>

  <!-- 注册使用，添加手机、登录名和密码，其他自增或默认 -->
  <insert id="addNewCustomer" parameterType="java.util.HashMap" >
    insert into customer (name, phone, login_name)
    values (#{name}, #{phone}, #{login_name})
  </insert>

  <select id="getPwdByName" parameterType="java.util.HashMap" resultType="java.lang.String">
        SELECT
        pwd
        FROM
        customer
        WHERE
        login_name = #{loginName}
    </select>

  <select id="getUserInfo" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT
        *
        FROM
        customer
        WHERE
        login_name = #{loginName}
    </select>

  <update id="updateByPrimaryKey" parameterType="Customer" >
    update customer
    set name = #{name,jdbcType=VARCHAR},
      phone = #{phone,jdbcType=VARCHAR},
      age = #{age,jdbcType=INTEGER},
      sex = #{sex,jdbcType=INTEGER},
      pwd = #{pwd,jdbcType=VARCHAR},
      nick_name = #{nickName,jdbcType=VARCHAR},
      user_image = #{userImage,jdbcType=VARCHAR},
      birthday = #{birthday,jdbcType=DATE},
      login_name = #{loginName,jdbcType=VARCHAR},
      is_delete = #{isDelete,jdbcType=INTEGER}
    where ID = #{id,jdbcType=INTEGER}
  </update>
</mapper>